{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"How to install Python 3.7.1 from Source Code with OpenSSL 1.1.1 Support on Debian Jessie (8.6.0 amd64) Install dependencies for Python root@debian:~# apt-get install build-essential checkinstall \\ > libreadline-gplv2-dev libncursesw5-dev libssl-dev libsqlite3-dev \\ > tk-dev libgdbm-dev libc6-dev libbz2-dev libffi-dev Reading package lists... Done Building dependency tree . . . root@debian:~# Remove openssl Remove the existing (installed) version of OpenSSL root@debian:~# which openssl /usr/bin/openssl root@debian:~# openssl version OpenSSL 1.0.1t 3 May 2016 root@debian:~# apt-get purge --auto-remove openssl Reading package lists... Done . . . Purging configuration files for openssl (1.0.1t-1+deb8u3) ... Processing triggers for man-db (2.7.0.2-5) ... root@debian:~# which openssl root@debian:~# Install the current version of openssl (1.1.1) root@debian:~# mkdir dl root@debian:~# cd dl/ root@debian:~# wget -q \\ > http://192.168.79.1/sw/openssl-1.1.1/openssl-1.1.1.tar.gz root@debian:~/dl# tar -zxf openssl-1.1.1.tar.gz root@debian:~/dl# cd openssl-1.1.1/ root@debian:~/dl/openssl-1.1.1# ./config shared --prefix=/usr/local/ Operating system: x86_64-whatever-linux2 Configuring OpenSSL version 1.1.1 (0x1010100fL) for linux-x86_64 Using os-specific seed configuration Creating configdata.pm Creating Makefile ********************************************************************** *** *** *** If you want to report a building issue, please include the *** *** output from this command: *** *** *** *** perl configdata.pm --dump *** *** *** ********************************************************************** root@debian:~/dl/openssl-1.1.1# make . . . root@debian:~/dl/openssl-1.1.1# make install . . root@debian:~/dl/openssl-1.1.1# which openssl /usr/local/bin/openssl root@debian:~/dl/openssl-1.1.1# ldconfig root@debian:~/dl/openssl-1.1.1# /usr/local/bin/openssl version OpenSSL 1.1.1 11 Sep 2018 root@debian:~/dl/openssl-1.1.1# root@debian:~/dl/openssl-1.1.1# ln -s /usr/local/bin/openssl /usr/bin/openssl root@debian:~/dl/openssl-1.1.1# openssl version OpenSSL 1.1.1 11 Sep 2018 root@debian:~/dl/openssl-1.1.1# Install Python 3.7.1 Download and extract the Python 3.7.1 Source Code root@debian:~/dl# wget -q http://192.168.79.1/sw/python/Python-3.7.1.tgz root@debian:~/dl# tar -zxf Python-3.7.1.tgz root@debian:~/dl# cd Python-3.7.1/ root@debian:~/dl/Python-3.7.1# Edit the file /root/dl/Python-3.7.1/Modules/Setup.dist and change the following content: # Socket module helper for SSL support; you must comment out the other # socket line above, and possibly edit the SSL variable: #SSL=/usr/local/ssl #_ssl _ssl.c \\ # -DUSE_SSL -I$(SSL)/include -I$(SSL)/include/openssl \\ # -L$(SSL)/lib -lssl -lcrypto to: # Socket module helper for SSL support; you must comment out the other # socket line above, and possibly edit the SSL variable: SSL=/usr/local/lib _ssl _ssl.c \\ -DUSE_SSL -I$(SSL)/include -I$(SSL)/include/openssl \\ -L$(SSL)/lib -lssl -lcrypto Specify LDFLAGS and LD_LIBRARY_PATH for ./configure root@debian:~/dl/Python-3.7.1# export LDFLAGS=\"-L/usr/local/lib/\" root@debian:~/dl/Python-3.7.1# export LD_LIBRARY_PATH=\"/usr/local/lib/\" root@debian:~/dl/Python-3.7.1# Configure root@debian:~/dl/Python-3.7.1# ./configure --enable-optimizations \\ > --prefix=/usr/local/ . . . creating Modules/Setup creating Modules/Setup.local creating Makefile root@debian:~/dl/Python-3.7.1# The following lines are very important (note the \"yes\" at the end of each line) checking for pkg-config... /usr/bin/pkg-config checking whether compiling and linking against OpenSSL works... yes checking for X509_VERIFY_PARAM_set1_host in libssl... yes checking for --with-ssl-default-suites... python configure: creating ./config.status config.status: creating Makefile.pre Install Python from the source code. root@debian:~/dl/Python-3.7.1# make altinstall . . . Looking in links: /tmp/tmp71hmpm4v Collecting setuptools Collecting pip Installing collected packages: setuptools, pip Successfully installed pip-10.0.1 setuptools-39.0.1 root@debian:~/dl/Python-3.7.1# The make altinstall is used to prevent replacing the default python binary file /usr/bin/python . Verify the installation: root@debian:~/dl/Python-3.7.1# python3.7 -V Python 3.7.1 root@debian:~/dl/Python-3.7.1# Create softlink for easy access: root@debian:~/dl/Python-3.7.1# which python3.7 /usr/local/bin/python3.7 root@debian:~/dl/Python-3.7.1# echo $PATH /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin root@debian:~/dl/Python-3.7.1# ln -s /usr/local/bin/python3.7 /usr/local/bin/python3 root@debian:~/dl/Python-3.7.1# which python3 /usr/local/bin/python3 root@debian:~/dl/Python-3.7.1# python3 -V Python 3.7.1 root@debian:~/dl/Python-3.7.1# Verify SSL Working with Python Access a HTTPS Site to check if SSL is working: root@debian:~# python3 Python 3.7.1 (default, Oct 30 2018, 13:53:34) [GCC 4.9.2] on linux Type \"help\", \"copyright\", \"credits\" or \"license\" for more information. >>> import ssl >>> ssl._create_default_https_context = ssl._create_unverified_context >>> import urllib.request >>> x = urllib.request.urlopen('https://www.google.com/') >>> print(x.read())","title":"Install Python 3.7.1"},{"location":"#how-to-install-python-371-from-source-code-with-openssl-111-support-on-debian-jessie-860-amd64","text":"","title":"How to install Python 3.7.1 from Source Code with OpenSSL 1.1.1 Support on Debian Jessie (8.6.0 amd64)"},{"location":"#install-dependencies-for-python","text":"root@debian:~# apt-get install build-essential checkinstall \\ > libreadline-gplv2-dev libncursesw5-dev libssl-dev libsqlite3-dev \\ > tk-dev libgdbm-dev libc6-dev libbz2-dev libffi-dev Reading package lists... Done Building dependency tree . . . root@debian:~#","title":"Install dependencies for Python"},{"location":"#remove-openssl","text":"Remove the existing (installed) version of OpenSSL root@debian:~# which openssl /usr/bin/openssl root@debian:~# openssl version OpenSSL 1.0.1t 3 May 2016 root@debian:~# apt-get purge --auto-remove openssl Reading package lists... Done . . . Purging configuration files for openssl (1.0.1t-1+deb8u3) ... Processing triggers for man-db (2.7.0.2-5) ... root@debian:~# which openssl root@debian:~#","title":"Remove openssl"},{"location":"#install-the-current-version-of-openssl-111","text":"root@debian:~# mkdir dl root@debian:~# cd dl/ root@debian:~# wget -q \\ > http://192.168.79.1/sw/openssl-1.1.1/openssl-1.1.1.tar.gz root@debian:~/dl# tar -zxf openssl-1.1.1.tar.gz root@debian:~/dl# cd openssl-1.1.1/ root@debian:~/dl/openssl-1.1.1# ./config shared --prefix=/usr/local/ Operating system: x86_64-whatever-linux2 Configuring OpenSSL version 1.1.1 (0x1010100fL) for linux-x86_64 Using os-specific seed configuration Creating configdata.pm Creating Makefile ********************************************************************** *** *** *** If you want to report a building issue, please include the *** *** output from this command: *** *** *** *** perl configdata.pm --dump *** *** *** ********************************************************************** root@debian:~/dl/openssl-1.1.1# make . . . root@debian:~/dl/openssl-1.1.1# make install . . root@debian:~/dl/openssl-1.1.1# which openssl /usr/local/bin/openssl root@debian:~/dl/openssl-1.1.1# ldconfig root@debian:~/dl/openssl-1.1.1# /usr/local/bin/openssl version OpenSSL 1.1.1 11 Sep 2018 root@debian:~/dl/openssl-1.1.1# root@debian:~/dl/openssl-1.1.1# ln -s /usr/local/bin/openssl /usr/bin/openssl root@debian:~/dl/openssl-1.1.1# openssl version OpenSSL 1.1.1 11 Sep 2018 root@debian:~/dl/openssl-1.1.1#","title":"Install the current version of openssl (1.1.1)"},{"location":"#install-python-371","text":"Download and extract the Python 3.7.1 Source Code root@debian:~/dl# wget -q http://192.168.79.1/sw/python/Python-3.7.1.tgz root@debian:~/dl# tar -zxf Python-3.7.1.tgz root@debian:~/dl# cd Python-3.7.1/ root@debian:~/dl/Python-3.7.1# Edit the file /root/dl/Python-3.7.1/Modules/Setup.dist and change the following content: # Socket module helper for SSL support; you must comment out the other # socket line above, and possibly edit the SSL variable: #SSL=/usr/local/ssl #_ssl _ssl.c \\ # -DUSE_SSL -I$(SSL)/include -I$(SSL)/include/openssl \\ # -L$(SSL)/lib -lssl -lcrypto to: # Socket module helper for SSL support; you must comment out the other # socket line above, and possibly edit the SSL variable: SSL=/usr/local/lib _ssl _ssl.c \\ -DUSE_SSL -I$(SSL)/include -I$(SSL)/include/openssl \\ -L$(SSL)/lib -lssl -lcrypto Specify LDFLAGS and LD_LIBRARY_PATH for ./configure root@debian:~/dl/Python-3.7.1# export LDFLAGS=\"-L/usr/local/lib/\" root@debian:~/dl/Python-3.7.1# export LD_LIBRARY_PATH=\"/usr/local/lib/\" root@debian:~/dl/Python-3.7.1# Configure root@debian:~/dl/Python-3.7.1# ./configure --enable-optimizations \\ > --prefix=/usr/local/ . . . creating Modules/Setup creating Modules/Setup.local creating Makefile root@debian:~/dl/Python-3.7.1# The following lines are very important (note the \"yes\" at the end of each line) checking for pkg-config... /usr/bin/pkg-config checking whether compiling and linking against OpenSSL works... yes checking for X509_VERIFY_PARAM_set1_host in libssl... yes checking for --with-ssl-default-suites... python configure: creating ./config.status config.status: creating Makefile.pre Install Python from the source code. root@debian:~/dl/Python-3.7.1# make altinstall . . . Looking in links: /tmp/tmp71hmpm4v Collecting setuptools Collecting pip Installing collected packages: setuptools, pip Successfully installed pip-10.0.1 setuptools-39.0.1 root@debian:~/dl/Python-3.7.1# The make altinstall is used to prevent replacing the default python binary file /usr/bin/python . Verify the installation: root@debian:~/dl/Python-3.7.1# python3.7 -V Python 3.7.1 root@debian:~/dl/Python-3.7.1# Create softlink for easy access: root@debian:~/dl/Python-3.7.1# which python3.7 /usr/local/bin/python3.7 root@debian:~/dl/Python-3.7.1# echo $PATH /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin root@debian:~/dl/Python-3.7.1# ln -s /usr/local/bin/python3.7 /usr/local/bin/python3 root@debian:~/dl/Python-3.7.1# which python3 /usr/local/bin/python3 root@debian:~/dl/Python-3.7.1# python3 -V Python 3.7.1 root@debian:~/dl/Python-3.7.1#","title":"Install Python 3.7.1"},{"location":"#verify-ssl-working-with-python","text":"Access a HTTPS Site to check if SSL is working: root@debian:~# python3 Python 3.7.1 (default, Oct 30 2018, 13:53:34) [GCC 4.9.2] on linux Type \"help\", \"copyright\", \"credits\" or \"license\" for more information. >>> import ssl >>> ssl._create_default_https_context = ssl._create_unverified_context >>> import urllib.request >>> x = urllib.request.urlopen('https://www.google.com/') >>> print(x.read())","title":"Verify SSL Working with Python"}]}